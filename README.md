ClientOnlineCamera
==================

## Introduction

Mqtt client which extract features from camera and send them over the network.

## Installation

**Dependencies:** In order to compile, the program will require QMake (tested with v3.0), OpenCv (tested with 2.4.8) and Mosquittopp (tested with v1.3.4). It also require a compiler compatible with C++11.

The directory structure has to be the same as _ClientCamera_.The working directory when running the program has to be a subdirectory _build/_ of this repository.

In order to run the program, the folder _ClientOnlineCamera/_ must contain a config.yml indicating the ip adress of the mqtt brocker:

```
%YAML:1.0
brokerIp: '192.168.100.13'
clientId: 6
```

If the clientId parameter is not set, the program will automatically attribute an id corresponding to the pid of the program.The client id defined here is also used the _ClientCamera_ program. Each client id must be **unique**.

## Execution

All is automatic. The program will look into the _Traces/_ folder to read the sequences extracted before by _ClientCamera/_ and will extract the features and send them over the network (only if the client reidentification is connected).

**Warning:** If there is a file *traces_labelized.txt* in a _ReidDirectory/Data/OutputReid_ (generated by the reidentification client). This one will be automatically used instead of the traditional *traces.txt*. For the final system after deployment their is no problem, _ClientOnlineCamera_ and _ClientOnlineReid_ being on two separate machines, but for the test phase, it can help the test to be executed more quickly (instead of having to rename and move *traces_labelized.txt*).
